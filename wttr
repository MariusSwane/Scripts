#!/bin/bash

loc=$(head -n 1 .cache/wttr)
all=$(grep -B2 Â° .cache/wttr | sed 's/([^)]*)//g ; s/[^[:alnum:]]\+/ /g ; /^ *$/d ; s/ [a-z]* .*//' | awk '{print}' ORS='')
tempnow=$(echo $all | awk '{print $2 "Â°C"}')
tempnoon=$(echo $all | awk '{print $5 "Â°C"}')
wnoon=$(echo $all | awk '{print $4}')
wnow=$(echo $all | awk '{print $1}')

#partly=$(â›…)
#sunny=$(â˜€ï¸)
#cloud=$(â˜ï¸ğŸŒ§ï¸ğŸŒ§ï¸ snow:ğŸŒ¨ï¸)

curl -s 'wttr.in?1FnqT' > .cache/wttr


if [ "$wnow" == "Partly" ]; then
	wnow=â›…
fi

if [ "$wnow" == "Sunny" ]; then
	wnow=â˜€ï¸
fi

if [ "$wnow" == "Cloudy" ]; then
	wnow=â˜ï¸
fi

if [ "$wnow" == "Rain" ]; then
	wnow=ğŸŒ§ï¸ 
fi

if [ "$wnoon" == "Partly" ]; then
	wnoon=â›…
fi

if [ "$wnoon" == "Sunny" ]; then
	wnoon=â˜€ï¸
fi

if [ "$wnoon" == "Cloudy" ]; then
	wnoon=â˜ï¸
fi

if [ "$wnoon" == "Rain" ]; then
	wnoon=ğŸŒ§ï¸ 
fi
echo "$loc $wnow $tempnow | $wnoon $tempnoon"
